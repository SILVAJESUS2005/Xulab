<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                template="/templates/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:define name="title">Iniciar sesión - Xulab</ui:define>

    <ui:define name="content">
        <div class="flex align-items-center justify-content-center min-h-screen surface-ground">

            <div class="surface-card p-4 shadow-2 border-round w-full lg:w-4">
                <h:form>
                    <div class="text-center mb-5">


                        <div class="text-900 text-3xl font-medium mb-3">Bienvenido</div>
                        <span class="text-600 font-medium line-height-3">Inicia sesión para continuar aprendiendo</span>
                    </div>

                    <p:messages id="messages" showDetail="true" closable="true">
                        <p:autoUpdate/>
                    </p:messages>

                    <div class="field mb-4">
                        <label for="email" class="block text-900 font-medium mb-2">Email</label>

                        <div class="login-box-unified">
                            <span class="ui-inputgroup-addon">
                                <i class="pi pi-user"></i>
                            </span>
                            <p:inputText id="email" value="#{authController.email}" 
                                         placeholder="Escriba su email"
                                         required="true" requiredMessage="El email es obligatorio." />
                        </div>
                    </div>

                    <div class="field mb-4">
                        <label for="password" class="block text-900 font-medium mb-2">Contraseña</label>

                        <div class="login-box-unified">
                            <span class="ui-inputgroup-addon">
                                <i class="pi pi-lock"></i>
                            </span>
                            <p:password id="password" value="#{authController.password}" 
                                        placeholder="........"
                                        required="true" requiredMessage="La contraseña es obligatoria." 
                                        toggleMask="true" />
                        </div>
                    </div>


                    <p:commandButton value="Iniciar Sesión" action="#{authController.login()}" 
                                     styleClass="w-full btn-brand" 
                                     update="messages" />

                    <div class="mt-4 pt-4 border-top-1 surface-border text-center flex align-items-center justify-content-center flex-wrap gap-2">

                        <span class="text-600">¿No tienes una cuenta?</span>

                        <h:link outcome="registro" styleClass="link-register">
                            <span>Regístrate aquí</span>
                            <i class="pi pi-arrow-right" style="font-size: 0.8rem;"></i>
                        </h:link>

                    </div>
                </h:form>
            </div>
        </div>
    </ui:define>

</ui:composition>