<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/templates/template.xhtml">

    <ui:define name="title">Centro de Ayuda - Xulab</ui:define>

    <ui:define name="content">

        <div class="surface-ground py-6">
            
            <div class="landing-container">

                <div class="help-hero-card p-5 text-center mb-6">
                    <h1 class="text-primary text-4xl font-bold m-0 mb-2">Centro de Recursos y Ayuda</h1>
                    <p class="text-xl text-600 m-0">Todo lo que necesitas para aprovechar Xulab al máximo.</p>
                </div>

                <div class="grid">
                    
                    <div class="col-12 lg:col-8">
                        
                        <div id="carreras" class="surface-card p-4 border-round shadow-2 mb-6" style="scroll-margin-top: 100px;">
                            <h2 class="title-bordered">Guía de carreras</h2>
                            
                            <p class="text-700 mb-5 text-lg">¿No sabes por dónde empezar? Sigue nuestra ruta recomendada por expertos:</p>

                            <div class="timeline-container">
                                <ui:repeat value="#{ayudaController.guiaCarrera}" var="paso" varStatus="status">
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker" 
                                             style="background: #{paso.colorFondo}; color: #{paso.colorTexto};">
                                            #{paso.numero}
                                        </div>
                                        
                                        <div class="timeline-content pt-2">
                                            <h4 class="#{paso.numero eq 4 ? 'text-primary' : 'text-900'}">
                                                #{paso.titulo}
                                            </h4>
                                            <span class="#{paso.numero eq 4 ? 'text-brand font-bold' : 'text-600'}">
                                                #{paso.subtitulo}
                                            </span>
                                        </div>
                                    </div>

                                </ui:repeat>
                            </div>
                        </div>

                        <div id="faq" class="surface-card p-4 border-round shadow-2" style="scroll-margin-top: 100px;">
                            <h2 class="title-bordered">Preguntas Frecuentes</h2>
                            
                            <p:accordionPanel multiple="true" styleClass="shadow-none">
                                <p:tab title="¿Los cursos son gratuitos?">
                                    <p class="m-0 line-height-3 text-700">
                                        Sí, <strong>Xulab</strong> nació como una iniciativa para democratizar la educación. 
                                        Todos nuestros cursos actuales son de acceso libre previo registro.
                                    </p>
                                </p:tab>
                                <p:tab title="¿Obtengo una constancia al terminar?">
                                    <p class="m-0 line-height-3 text-700">
                                        ¡Sí! Al completar el 100% de las lecciones de un curso y aprobar el examen final, 
                                        se habilitará un botón para descargar tu constancia en PDF automáticamente.
                                    </p>
                                </p:tab>
                                <p:tab title="¿Cómo puedo contactar a un instructor?">
                                    <p class="m-0 line-height-3 text-700">
                                        Puedes dejar tus dudas en la sección de "Comentarios" debajo de cada lección. 
                                        Nuestros mentores y la comunidad responden constantemente.
                                    </p>
                                </p:tab>
                            </p:accordionPanel>
                        </div>

                    </div>

                    <div class="col-12 lg:col-4">
                        
                        <div id="soporte" class="surface-card p-4 border-round shadow-4" style="scroll-margin-top: 100px; position: sticky; top: 100px;">
                            <div class="flex align-items-center gap-2 mb-3">
                                <i class="pi pi-envelope text-brand text-2xl"></i>
                                <h2 class="text-900 text-2xl font-bold m-0">Soporte Técnico</h2>
                            </div>
                            
                            <p class="text-600 mb-4 line-height-3">
                                ¿Tienes problemas con la plataforma? Envíanos un mensaje y te responderemos en breve.
                            </p>

                            <h:form>
                                <div class="ui-fluid"> <p:messages showDetail="true" closable="true">
                                        <p:autoUpdate/>
                                    </p:messages>

                                    <div class="field mb-3">
                                        <label for="asunto" class="font-medium text-900">Asunto</label>
                                        <span class="ui-input-icon-left w-full">
                                            <i class="pi pi-tag" />
                                            <p:inputText id="asunto" value="#{ayudaController.asunto}" 
                                                         placeholder="Ej: Error en video..." required="true"/>
                                        </span>
                                    </div>

                                    <div class="field mb-3">
                                        <label for="contacto" class="font-medium text-900">Correo de contacto</label>
                                        <span class="ui-input-icon-left w-full">
                                            <i class="pi pi-at" />
                                            <p:inputText id="contacto" value="#{ayudaController.correoContacto}" 
                                                         placeholder="tu@correo.com" required="true"/>
                                        </span>
                                    </div>

                                    <div class="field mb-4">
                                        <label for="desc" class="font-medium text-900">Descripción del problema</label>
                                        <p:inputTextarea id="desc" value="#{ayudaController.descripcion}" 
                                                         rows="5" placeholder="Detalla lo que sucede..." required="true"/>
                                    </div>

                                    <p:commandButton value="Enviar reporte" action="#{ayudaController.enviarReporte()}" 
                                                     update="@form" icon="pi pi-send" styleClass="btn-brand w-full" />
                                </div>
                            </h:form>
                        </div>

                    </div> </div> </div> </div>

    </ui:define>
</ui:composition>