<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/templates/template.xhtml">

        <ui:define name="title">Centro de Ayuda - Xulab</ui:define>

        <ui:define name="content">

            <div style="text-align: center; margin-bottom: 3rem; padding: 2rem; background: var(--color-white); border-radius: 8px; border-bottom: 4px solid var(--color-primary);">
                <h1 style="color: var(--color-primary); margin: 0;">Centro de recursos y ayuda</h1>
                <p style="color: #666; font-size: 1.1rem;">Todo lo que necesitas para aprovechar Xulab al máximo.</p>
            </div>
            <p:divider />

            <div id="carreras" style="scroll-margin-top: 100px;">
                <h2 style="color: var(--color-primary); border-left: 5px solid var(--color-accent); padding-left: 10px;">
                     Guía de carreras
                </h2>
                <div style="background: white; padding: 2rem; border-radius: 8px;">
                    <p style="margin-bottom: 20px;">¿No sabes por dónde empezar? Sigue nuestra ruta recomendada:</p>
                    <div class="ruta-aprendizaje" style="display: flex; flex-direction: column; gap: 0;">

                        <ui:repeat value="#{ayudaController.guiaCarrera}" var="paso" varStatus="status">

                            <div style="display: flex; align-items: center; margin-bottom: #{status.last ? '0' : '15px'};">
                                <div style="width: 40px; height: 40px; background: #{paso.colorFondo}; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px; color: #{paso.colorTexto};">
                                    #{paso.numero}
                                </div>
                                <div>
                                    <h4 style="margin: 0; color: #{paso.numero eq 4 ? 'var(--color-primary)' : '#333'};">#{paso.titulo}</h4>
                                    <small style="color: #{paso.numero eq 4 ? 'var(--color-accent)' : '#666'};">#{paso.subtitulo}</small>
                                </div>
                            </div>

                            <h:panelGroup rendered="#{!status.last}">
                                <div style="width: 2px; height: 30px; background: #ddd; margin-left: 19px; margin-top: -10px; margin-bottom: 5px;"></div>
                            </h:panelGroup>

                        </ui:repeat>

                    </div>
                </div>
            </div>


            <p:divider />

            <div id="faq" style="scroll-margin-top: 100px; margin-bottom: 3rem;">
                <h2 style="color: var(--color-primary); border-left: 5px solid var(--color-accent); padding-left: 10px;">
                    Preguntas frecuentes
                </h2>

                <p:accordionPanel>
                    <p:tab title="¿Los cursos son gratuitos?">
                        <p class="m-0">
                            Sí, Xulab nació como una iniciativa para democratizar la educación. Todos nuestros cursos actuales son de acceso libre previo registro.
                        </p>
                    </p:tab>
                    <p:tab title="¿Obtengo una constancia al terminar?">
                        <p class="m-0">
                            ¡Sí! Al completar el 100% de las lecciones de un curso, se habilitará un botón en la página del curso para descargar tu constancia en PDF automáticamente.
                        </p>
                    </p:tab>
                    <p:tab title="¿Cómo puedo contactar a un instructor?">
                        <p class="m-0">
                            Puedes dejar tus dudas en la sección de "Comentarios" debajo de cada lección. Nuestros mentores y la comunidad responden constantemente.
                        </p>
                    </p:tab>
                </p:accordionPanel>
            </div>

            <p:divider />

            <div id="soporte" style="scroll-margin-top: 100px; margin-bottom: 5rem;">
                <h2 style="color: var(--color-primary); border-left: 5px solid var(--color-accent); padding-left: 10px;">
                    Soporte técnico
                </h2>
                <div style="background: white; padding: 2rem; border-radius: 8px; max-width: 600px;">
                    <p>¿Tienes problemas con la plataforma? Envíanos un mensaje.</p>

                    <h:form>
                        <p:messages showDetail="true" closable="true">
                            <p:autoUpdate/>
                        </p:messages>

                        <div class="p-field" style="margin-bottom: 1rem;">
                            <label style="display:block; font-weight: bold; margin-bottom: 5px;">Asunto</label>
                            <p:inputText value="#{ayudaController.asunto}" placeholder="Ej: No puedo ver el video..." style="width: 100%;" required="true"/>
                        </div>

                        <div class="p-field" style="margin-bottom: 1rem;">
                            <label style="display:block; font-weight: bold; margin-bottom: 5px;">Correo de contacto</label>
                            <p:inputText value="#{ayudaController.correoContacto}" placeholder="tu@correo.com" style="width: 100%;" required="true"/>
                        </div>

                        <div class="p-field" style="margin-bottom: 1rem;">
                            <label style="display:block; font-weight: bold; margin-bottom: 5px;">Descripción del problema</label>
                            <p:inputTextarea value="#{ayudaController.descripcion}" rows="5" style="width: 100%;" required="true"/>
                        </div>

                        <p:commandButton value="Enviar reporte" action="#{ayudaController.enviarReporte()}" update="@form" styleClass="btn-brand" />
                    </h:form>
                </div>
            </div>

        </ui:define>
    </ui:composition>
</html>